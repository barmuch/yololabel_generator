(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},26289:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>i}),s(90908),s(11506),s(35866);var r=s(23191),a=s(88716),o=s(37922),l=s.n(o),n=s(95231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let i=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,90908)),"D:\\Project\\next-yolo-label-generator\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"D:\\Project\\next-yolo-label-generator\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Project\\next-yolo-label-generator\\app\\page.tsx"],m="/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},87195:(e,t,s)=>{Promise.resolve().then(s.bind(s,95407))},95407:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(10326),a=s(17577),o=s(16205),l=s(90772),n=s(54432),c=s(62288),i=s(92332),d=s(87926);let m=(0,d.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),x=(0,d.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),p=(0,d.Z)("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),h=(0,d.Z)("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),j=(0,d.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);var u=s(73183),g=s(66392),f=s(77389);function y(){let{loadProject:e}=(0,o.O)(),[t,s]=(0,a.useState)(!1),[d,y]=(0,a.useState)(""),[v,N]=(0,a.useState)([]),[w,b]=(0,a.useState)(!0),P=(0,f.useRouter)(),k=async()=>{try{b(!0),console.log("Loading projects from MongoDB...");let e=[];try{console.log("Fetching projects from server...");let t=await fetch("/api/projects");if(t.ok){let s=await t.json();s.success&&s.projects&&(e=s.projects,console.log("Projects loaded from server:",e))}else console.warn("Failed to fetch projects from server:",t.status)}catch(e){console.warn("Error fetching projects from server:",e)}let t=e.map(e=>({...e,images:e.images||[],bboxes:e.bboxes||[],classes:e.classes||[]}));t.sort((e,t)=>t.updatedAt-e.updatedAt),N(t),console.log("Total projects loaded:",t.length)}catch(e){console.error("Failed to load projects:",e)}finally{b(!1)}},C=async()=>{if(!d.trim())return;console.log("Creating new project:",d.trim());let t={id:`project_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,name:d.trim(),images:[],bboxes:[],classes:[],createdAt:Date.now(),updatedAt:Date.now()};try{console.log("Saving project to server...");let r=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok)console.log("Project saved to server successfully"),e(t),y(""),s(!1),await k(),P.push("/labeler");else{let e=await r.text();console.error("Failed to save project to server:",e),alert("Failed to create project: "+e)}}catch(e){console.error("Failed to create project:",e),alert("Failed to create project: "+(e instanceof Error?e.message:"Unknown error"))}},F=async t=>{try{e(t),P.push("/labeler")}catch(e){console.error("Failed to load project:",e),alert("Failed to load project")}},_=async()=>{try{b(!0),console.log("Force loading projects from server only...");let e=await fetch("/api/projects");if(e.ok){let t=await e.json();if(t.success&&t.projects){for(let e of(console.log("Projects force loaded from server:",t.projects),t.projects))try{await (0,g.UI)(e)}catch(e){console.warn("Failed to save server project to IndexedDB:",e)}t.projects.sort((e,t)=>t.updatedAt-e.updatedAt),N(t.projects),console.log("Total projects loaded from server:",t.projects.length)}else console.error("Invalid response from server:",t),alert("Failed to load projects from server")}else console.error("Server responded with error:",e.status),alert("Failed to connect to server")}catch(e){console.error("Failed to force load from server:",e),alert("Failed to load projects from server: "+(e instanceof Error?e.message:"Unknown error"))}finally{b(!1)}},S=async(e,t)=>{if(confirm(`Are you sure you want to delete project "${t}"? This will also delete all associated images and annotations.`))try{console.log("Deleting project:",e);let t=await fetch(`/api/projects/${e}`,{method:"DELETE"});if(t.ok){let e=await t.json();console.log("Project deleted from server:",e),await k(),alert("Project deleted successfully!")}else{let e=await t.text();console.error("Failed to delete project from server:",e),alert("Failed to delete project: "+e)}}catch(e){console.error("Failed to delete project:",e),alert("Failed to delete project: "+(e instanceof Error?e.message:"Unknown error"))}},A=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx("header",{className:"border-b bg-card",children:r.jsx("div",{className:"container mx-auto px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"YOLO Label Generator"}),r.jsx("p",{className:"text-muted-foreground",children:"Professional YOLO dataset annotation tool"})]}),(0,r.jsxs)(c.Vq,{open:t,onOpenChange:s,children:[r.jsx(c.hg,{asChild:!0,children:(0,r.jsxs)(l.z,{className:"flex items-center space-x-2",children:[r.jsx(i.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"New Project"})]})}),(0,r.jsxs)(c.cZ,{children:[r.jsx(c.fK,{children:r.jsx(c.$N,{children:"Create New Project"})}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(n.I,{placeholder:"Project name",value:d,onChange:e=>y(e.target.value),onKeyPress:e=>"Enter"===e.key&&C(),autoFocus:!0}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[r.jsx(l.z,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),r.jsx(l.z,{onClick:C,disabled:!d.trim(),children:"Create"})]})]})]})]})]})})}),r.jsx("div",{className:"container mx-auto px-6 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Projects"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.z,{variant:"outline",size:"sm",onClick:_,children:[r.jsx(m,{className:"w-4 h-4 mr-2"}),"Load from Server"]}),(0,r.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:k,children:[r.jsx(x,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),w?r.jsx("div",{className:"border rounded-lg p-8 text-center",children:(0,r.jsxs)("div",{className:"text-muted-foreground",children:[r.jsx(x,{className:"w-12 h-12 mx-auto mb-4 opacity-50 animate-spin"}),r.jsx("p",{children:"Loading projects..."})]})}):0===v.length?r.jsx("div",{className:"border rounded-lg p-12 text-center",children:(0,r.jsxs)("div",{className:"text-muted-foreground",children:[r.jsx(p,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),r.jsx("p",{className:"mb-4",children:"Create your first project to get started with image annotation"}),(0,r.jsxs)(l.z,{onClick:()=>s(!0),children:[r.jsx(i.Z,{className:"w-4 h-4 mr-2"}),"Create First Project"]})]})}):r.jsx("div",{className:"space-y-3",children:v.map(e=>r.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors group",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>F(e),children:[r.jsx("h3",{className:"font-medium text-lg",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground mt-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(h,{className:"w-4 h-4 mr-1"}),e.imageCount||e.images?.length||0," images"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(j,{className:"w-4 h-4 mr-1"}),e.annotationCount||e.bboxes?.length||0," annotations"]}),(0,r.jsxs)("span",{className:"flex items-center",children:[r.jsx(p,{className:"w-4 h-4 mr-1"}),e.classes?.length||0," classes"]})]}),(0,r.jsxs)("div",{className:"flex items-center mt-1",children:[r.jsx(m,{className:"w-4 h-4 mr-1"}),"Updated: ",A(e.updatedAt)]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx(l.z,{size:"sm",variant:"ghost",onClick:()=>F(e),className:"h-8 w-8 p-0",title:"Open Project",children:r.jsx(p,{className:"w-4 h-4"})}),r.jsx(l.z,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),S(e.id,e.name)},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",title:"Delete Project",children:r.jsx(u.Z,{className:"w-4 h-4"})})]})]})},e.id))}),(0,r.jsxs)("div",{className:"mt-12",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Features"}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"text-center p-6 border rounded-lg",children:[r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(h,{className:"w-6 h-6 text-primary"})}),r.jsx("h3",{className:"font-medium mb-2",children:"Multi-format Support"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Support for JPG, PNG, WebP, and BMP image formats with cloud storage"})]}),(0,r.jsxs)("div",{className:"text-center p-6 border rounded-lg",children:[r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(p,{className:"w-6 h-6 text-primary"})}),r.jsx("h3",{className:"font-medium mb-2",children:"YOLO Export"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Export annotations in YOLO format with train/val/test splits"})]}),(0,r.jsxs)("div",{className:"text-center p-6 border rounded-lg",children:[r.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:r.jsx(x,{className:"w-6 h-6 text-primary"})}),r.jsx("h3",{className:"font-medium mb-2",children:"Auto-save"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatic saving to browser storage with cloud backup"})]})]})]})]})})]})}},90908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>o,default:()=>n});var r=s(68570);let a=(0,r.createProxy)(String.raw`D:\Project\next-yolo-label-generator\app\page.tsx`),{__esModule:o,$$typeof:l}=a;a.default;let n=(0,r.createProxy)(String.raw`D:\Project\next-yolo-label-generator\app\page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,82,725,400],()=>s(26289));module.exports=r})();